# Система управления заданиями

Веб-приложение для управления заданиями и работниками с системой авторизации, загрузки файлов и админ панелью.

## Возможности

### Для администратора:
- Авторизация в системе (логин: Tural Jafarov, пароль: Riza0707756600..)
- Создание и управление работниками
- Просмотр профилей работников (как контролер)
- Редактирование данных работников (имя, логин, email, пароль)
- Создание личных и общих заданий
- Назначение заданий конкретным работникам
- Редактирование и удаление заданий
- Установка суммы оплаты за задания (только для админа)
- Отметка заданий как оплаченных
- Просмотр всех файлов и комментариев
- Скачивание файлов с правильными именами и форматами

### Для работников:
- Авторизация в системе
- Просмотр личных заданий (назначенных конкретно им)
- Просмотр общих заданий (для всех)
- Загрузка файлов различных форматов
- Добавление комментариев к заданиям
- Просмотр работ других работников в общих заданиях

## Поддерживаемые форматы файлов

- **Изображения:** PNG, JPG, JPEG, GIF, BMP, SVG, TIFF, TIF, WEBP, ICO
- **Видео:** MP4, AVI, MOV, WMV, FLV, WEBM, MKV, M4V, 3GP, MPG, MPEG
- **Аудио:** MP3, WAV, FLAC, AAC, OGG, WMA
- **Документы:** PDF, DOC, DOCX, TXT, RTF, ODT, XLS, XLSX, CSV, PPT, PPTX
- **Архивы:** ZIP, RAR, 7Z, TAR, GZ
- **3D файлы:** STL, OBJ, 3DS, BLEND, PLY, DAE, FBX, GLTF, GLB
- **Код и данные:** JSON, XML, HTML, CSS, JS, PY, CPP, C, JAVA

Максимальный размер файла: 100 МБ

## Установка и запуск

### Локальный запуск

1. Установите Python 3.8+ если его нет на компьютере

2. Установите зависимости:
```bash
pip install -r requirements.txt
```

3. Инициализируйте базу данных:
```bash
python init_db.py
```

4. Запустите приложение:
```bash
python app.py
```

5. Откройте браузер и перейдите по адресу: http://localhost:5000

### Запуск с Docker (рекомендуется)

```bash
# Собрать и запустить
docker-compose up -d

# Или отдельно
docker build -t task-manager .
docker run -d -p 5000:5000 -v $(pwd)/uploads:/app/uploads task-manager
```

### Развертывание в облаке

Для развертывания в интернете смотрите подробные инструкции в файле [DEPLOYMENT.md](DEPLOYMENT.md)

**Рекомендуемые варианты:**
- **Railway** (простой, $5/месяц)
- **DigitalOcean** (VPS, от $6/месяц)
- **Render** (бесплатно с ограничениями)

## Данные для входа

**Администратор:**
- Логин: Tural Jafarov
- Пароль: Riza0707756600..

## Структура проекта

```
.
├── app.py              # Основное Flask приложение
├── config.py           # Настройки приложения
├── models.py           # Модели базы данных
├── forms.py            # Формы WTForms
├── requirements.txt    # Зависимости Python
├── base.html           # Базовый HTML шаблон
├── login.html          # Страница входа
├── register.html       # Страница регистрации
├── admin_dashboard.html # Админ панель
├── create_task.html    # Создание задания
├── employee_dashboard.html # Панель работника
├── view_task.html      # Просмотр задания
└── uploads/            # Папка для загруженных файлов
```

## База данных

Приложение использует SQLite базу данных. При первом запуске автоматически создается база данных и администратор.

## Безопасность

- Пароли хешируются с помощью Werkzeug
- Сессии управляются Flask-Login
- CSRF защита включена
- Валидация файлов при загрузке

## Развертывание

Для развертывания на продакшене рекомендуется:

1. Изменить SECRET_KEY в config.py
2. Использовать PostgreSQL или MySQL вместо SQLite
3. Настроить обратный прокси (nginx)
4. Использовать WSGI сервер (Gunicorn)
5. Настроить HTTPS

## Резервное копирование

### Создание бэкапа:
```bash
python backup.py create
```

### Просмотр доступных бэкапов:
```bash
python backup.py list
```

### Восстановление из бэкапа:
```bash
python backup.py restore backups/backup_20231216_143000.zip
```

Бэкапы включают базу данных и все загруженные файлы.

## Поддержка

При возникновении проблем проверьте:
- Установлены ли все зависимости из requirements.txt
- Свободен ли порт 5000
- Есть ли права на запись в папку uploads/
- Правильно ли настроены переменные окружения

## Возможные улучшения

- Уведомления по email
- История изменений заданий
- Календарь с дедлайнами
- Статистика и отчеты
- Мобильная версия
- Интеграция с облачными хранилищами